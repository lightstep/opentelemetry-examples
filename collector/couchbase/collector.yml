receivers:
  otlp:
    protocols:
      http:
      grpc:
  prometheus/couchbase:
    config:
      scrape_configs:
        - job_name: otel-couchbase-eg
          scrape_interval: 5s
          basic_auth:
            username: Administrator 
            password: password
          static_configs:
            - targets: ["couchbase:8091"]

exporters:
  logging:
    loglevel: debug
  otlp/public:
    endpoint: ingest.lightstep.com:443
    headers:
        "lightstep-access-token": "${LS_ACCESS_TOKEN}"
  file:
    path: statsout/collector-out.json

processors:
  batch:

service:
  pipelines:
    metrics:
      receivers: [otlp, prometheus/couchbase]
      processors: [batch]
      exporters: [otlp/public, file]
